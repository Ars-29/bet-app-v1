# Vercel Deployment Guide - Frontend (Client)

## Required Folders/Files for Vercel Deployment

### ✅ **Essential Folders (Must Include):**

1. **`client/`** - Main Next.js application folder
   - `app/` - Next.js app router pages and API routes
   - `components/` - React components
   - `lib/` - Utilities, Redux store, features
   - `public/` - Static assets (images, icons)
   - `config/` - Configuration files
   - `hooks/` - Custom React hooks
   - `services/` - API service files
   - `utils/` - Utility functions

2. **Required Files:**
   - `client/package.json` - Dependencies
   - `client/next.config.mjs` - Next.js configuration
   - `client/league_mapping_clean.csv` - League filtering data (✅ Already copied)
   - `client/vercel.json` - Vercel configuration (✅ Created)
   - `client/.env.example` - Environment variables template (✅ Created)

### ❌ **NOT Needed (Don't Include):**

- `server/` folder - Backend runs separately
- `node_modules/` - Will be installed by Vercel
- `.next/` - Build output (generated by Vercel)
- `package-lock.json` in root - Only client's package-lock.json needed

## Deployment Steps

### 1. **Prepare Repository**

```bash
# Make sure CSV file is in client folder (already done)
ls client/league_mapping_clean.csv

# Verify client folder structure
cd client
ls -la
```

### 2. **Vercel Dashboard Setup**

1. Go to [Vercel Dashboard](https://vercel.com)
2. Click **"Add New Project"**
3. Import your Git repository
4. Configure project:
   - **Framework Preset:** Next.js
   - **Root Directory:** `client` (IMPORTANT!)
   - **Build Command:** `npm run build` (or leave default)
   - **Output Directory:** `.next` (or leave default)
   - **Install Command:** `npm install` (or leave default)

### 3. **Environment Variables**

Add these in Vercel Dashboard > Settings > Environment Variables:

```
NEXT_PUBLIC_API_URL=https://your-backend-server.com/api
NEXT_PUBLIC_BASE_API_URL=https://your-backend-server.com
```

**Important:** Replace `your-backend-server.com` with your actual backend server URL.

### 4. **Deploy**

Click **"Deploy"** and wait for build to complete.

## File Structure for Vercel

```
bet-app/
├── client/                    ← Vercel will deploy this folder
│   ├── app/
│   ├── components/
│   ├── lib/
│   ├── public/
│   ├── league_mapping_clean.csv  ← Required for league filtering
│   ├── package.json
│   ├── next.config.mjs
│   ├── vercel.json              ← Vercel config
│   └── .env.example
└── server/                      ← NOT deployed to Vercel (runs separately)
```

## Important Notes

1. **Root Directory:** Set to `client` in Vercel settings
2. **CSV File:** Already copied to `client/league_mapping_clean.csv`
3. **Environment Variables:** Must set `NEXT_PUBLIC_API_URL` and `NEXT_PUBLIC_BASE_API_URL`
4. **Backend:** Must be deployed separately (not on Vercel, use your VPS)
5. **CORS:** Make sure backend allows requests from Vercel domain

## Troubleshooting

### Build Fails?
- Check if `league_mapping_clean.csv` exists in `client/` folder
- Verify `package.json` has all dependencies
- Check Vercel build logs for errors

### API Calls Fail?
- Verify `NEXT_PUBLIC_API_URL` is set correctly
- Check backend CORS settings
- Ensure backend is running and accessible

### CSV File Not Found?
- Verify `client/league_mapping_clean.csv` exists
- Check file permissions
- Re-copy from server folder if needed

## Quick Deploy Command (CLI)

```bash
# Install Vercel CLI
npm i -g vercel

# Login
vercel login

# Deploy from client folder
cd client
vercel

# Follow prompts:
# - Set root directory: ./ (current directory)
# - Override settings: No
```

